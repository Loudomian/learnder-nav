import{s as h}from"./service-CvN87575.js";import{_ as u,G as p,r as l,o as r,c as f,w as d,a as m,b as c,t as i,e as n}from"./index-DwBrLgem.js";const _={name:"Healthchecks",components:{Generic:p},mixins:[h],props:{item:Object},data:()=>({api:null}),computed:{up:function(){var e;return this.api?(e=this.api.checks)==null?void 0:e.filter(t=>t.status.toLowerCase()==="up").length:""},down:function(){var e;return this.api?(e=this.api.checks)==null?void 0:e.filter(t=>t.status.toLowerCase()==="down").length:""},grace:function(){var e;return this.api?(e=this.api.checks)==null?void 0:e.filter(t=>t.status.toLowerCase()==="grace").length:""}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){if(!this.item.apikey){console.error("apikey is not present in config.yml for the Healthchecks entry!");return}const t={"X-Api-Key":this.item.apikey};this.api=await this.fetch("/api/v1/checks/",{headers:t}).catch(a=>{console.error(a)})}}},k={class:"notifs"},g={key:0,class:"notif up",title:"Up"},y={key:1,class:"notif down",title:"Down"},w={key:2,class:"notif grace",title:"Grace"};function C(e,t,a,b,v,s){const o=l("Generic");return r(),f(o,{item:a.item},{indicator:d(()=>[m("div",k,[s.up>0?(r(),c("strong",g,i(s.up),1)):n("",!0),s.down>0?(r(),c("strong",y,i(s.down),1)):n("",!0),s.grace>0?(r(),c("strong",w,i(s.grace),1)):n("",!0)])]),_:1},8,["item"])}const B=u(_,[["render",C],["__scopeId","data-v-442a4bbb"]]);export{B as default};
