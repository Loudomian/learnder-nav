import{s as u}from"./service-CvN87575.js";import{_ as h,G as p,r as d,o as s,c as f,w as _,a as r,t as i,b as c,F as o,d as l,e as x}from"./index-DwBrLgem.js";const y={name:"Mealie",components:{Generic:p},mixins:[u],props:{item:Object},data:()=>({stats:null,meal:null}),computed:{mealtext:function(){return this.meal&&this.meal.length>0?`Today: ${this.meal[0].recipe.name}`:null},statsText:function(){return this.stats?`Happily keeping ${this.stats.totalRecipes} recipes organized`:null}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){const n={Authorization:"Bearer "+this.item.apikey,Accept:"application/json"};this.item.subtitle==null&&(this.meal=await this.fetch("/api/groups/mealplans/today",{headers:n}).catch(t=>console.log(t)),this.stats=await this.fetch("/api/admin/about/statistics",{headers:n}).catch(t=>console.log(t)))}}},g={class:"title is-4"},k={class:"subtitle is-6"};function b(n,t,e,B,T,a){const m=d("Generic");return s(),f(m,{item:e.item},{content:_(()=>[r("p",g,i(e.item.name),1),r("p",k,[e.item.subtitle?(s(),c(o,{key:0},[l(i(e.item.subtitle),1)],64)):a.mealtext?(s(),c(o,{key:1},[l(i(a.mealtext),1)],64)):a.statsText?(s(),c(o,{key:2},[l(i(a.statsText),1)],64)):x("",!0)])]),_:1},8,["item"])}const C=h(y,[["render",b]]);export{C as default};
