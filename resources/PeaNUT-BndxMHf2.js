import{s as m}from"./service-CvN87575.js";import{_ as h,G as f,r as p,o as s,c as k,w as o,a as u,t as a,b as i,F as r,d as l,e as d,n as w}from"./index-DwBrLgem.js";const x={name:"PeaNUT",components:{Generic:f},mixins:[m],props:{item:Object},data:()=>({ups_status:"",ups_load:0}),computed:{status_text:function(){switch(this.ups_status){case"OL":return"online";case"OB":return"on battery";case"LB":return"low battery";default:return"unknown"}},status_class:function(){switch(this.ups_status){case"OL":return"online";case"OB":return"pending";case"LB":return"offline";default:return"unknown"}},load:function(){return this.ups_load?this.ups_load.toFixed(1):""}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){const n=this.item.device||"",c=await this.fetch(`/api/v1/devices/${n}`).catch(t=>console.log(t));this.ups_status=c["ups.status"]||"",this.ups_load=c["ups.load"]||0}}},B={class:"title is-4"},b={class:"subtitle is-6"};function v(n,c,t,y,L,e){const _=p("Generic");return s(),k(_,{item:t.item},{content:o(()=>[u("p",B,a(t.item.name),1),u("p",b,[t.item.subtitle?(s(),i(r,{key:0},[l(a(t.item.subtitle),1)],64)):e.load?(s(),i(r,{key:1},[l(a(e.load)+"% UPS Load ",1)],64)):d("",!0)])]),indicator:o(()=>[n.ups_status?(s(),i("div",{key:0,class:w(["status",e.status_class])},a(e.status_text),3)):d("",!0)]),_:1},8,["item"])}const g=h(x,[["render",v]]);export{g as default};
